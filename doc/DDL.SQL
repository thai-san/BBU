CREATE TABLE groups (
	group_id	INT NOT NULL AUTO_INCREMENT,
	group_name	VARCHAR(40) NOT NULL,
	PRIMARY KEY (group_id)
) ENGINE=InnoDB CHARACTER SET 'utf8';

CREATE TABLE users (
	user_id			INT NOT NULL AUTO_INCREMENT,
	user_name		VARCHAR(40) NOT NULL,
	password		VARCHAR(40) NOT NULL,
	email			VARCHAR(100),
	last_activity 	TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	is_enable		TINYINT(1) DEFAULT 1,
	group_id		INT,
	PRIMARY KEY (user_id),
	UNIQUE(user_name),
	FOREIGN KEY (group_id) REFERENCES groups (group_id) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB CHARACTER SET 'utf8';

CREATE TABLE students (
	student_id		VARCHAR(40) NOT NULL,
	student_name	VARCHAR(40) NOT NULL,
	email			VARCHAR(100),
	password		VARCHAR(40) NOT NULL,
	last_activity 	TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	is_enable		TINYINT(1) NOT NULL DEFAULT 1,
	PRIMARY KEY (student_id)
) ENGINE=InnoDB CHARACTER SET 'utf8';

CREATE TABLE posts (
	post_id			INT NOT NULL AUTO_INCREMENT,
	post_type		ENUM('PDF','IMAGE','TEXT'),
	post_title		VARCHAR(255) NOT NULL,
	post_content	TEXT NOT NULL,
	post_date		TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	post_owner		INT NOT NULL,
	category_id		INT NOT NULL,
	expire_date		DATE NOT NULL,
	is_enable		TINYINT(1) NOT NULL DEFAULT 1,
	PRIMARY KEY (post_id),
	FOREIGN KEY (post_owner) REFERENCES users (user_id) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB CHARACTER SET 'utf8';

CREATE TABLE books (
	book_id				INT NOT NULL AUTO_INCREMENT,
	book_title			VARCHAR(100) NOT NULL,
	book_uploader		INT NOT NULL,
	book_upload_date	TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	total_download		INT NOT NULL DEFAULT 0,
	PRIMARY KEY (book_id),
	FOREIGN KEY (book_uploader) REFERENCES users (user_id) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB CHARACTER SET 'utf8';

CREATE TABLE seen (

)